<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - Aryan Tanwar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header>
        <nav>
            <div class="nav-container">
                <div class="logo">
                    <h1>Aryan Tanwar</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About Me</a></li>
                    <li><a href="/resume">Resume</a></li>
                    <li><a href="/projects" class="active">Projects</a></li>
                    <li><a href="/add-project">Add Project</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>My Projects</h1>
                <p>Explore my work and technical achievements</p>
            </div>
        </section>

        <section class="projects-content">
            <div class="container">
                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="flash-message flash-{{ category }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <!-- Add Project Button -->
                <div class="add-project-section">
                    <a href="/add-project" class="btn btn-primary">Add New Project</a>
                </div>

                <!-- Projects Table -->
                {% if projects %}
                <div class="projects-table-container">
                    <table class="projects-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Title</th>
                                <th>Description</th>
                                <th>Tech Stack</th>
                                <th>Date</th>
                                <th>GitHub</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for project in projects %}
                            <tr>
                                <td class="project-image-cell">
                                    {% if project[3] %}
                                        {% set image_path = 'static/images/' + project[3] %}
                                        {% if image_path|file_exists %}
                                            <img src="{{ url_for('static', filename='images/' + project[3]) }}" 
                                                 alt="{{ project[1] }}" 
                                                 class="project-table-image">
                                        {% else %}
                                            <span class="project-image-filename">No image</span>
                                        {% endif %}
                                    {% else %}
                                        <span class="project-image-filename">No image</span>
                                    {% endif %}
                                </td>
                                <td class="project-title">{{ project[1] }}</td>
                                <td class="project-description">{{ project[2] }}</td>
                                <td class="project-tech">
                                    {% if project[4] %}
                                        {% for tech in project[4].split(',') %}
                                            <span class="tech-tag">{{ tech.strip() }}</span>
                                        {% endfor %}
                                    {% endif %}
                                </td>
                                <td class="project-date">{{ project[5] or 'N/A' }}</td>
                                <td class="project-github">
                                    {% if project[6] %}
                                        <a href="{{ project[6] }}" target="_blank" rel="noopener noreferrer" class="github-link">View Code</a>
                                    {% else %}
                                        N/A
                                    {% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="no-projects">
                    <h3>No projects found</h3>
                    <p>Start by adding your first project!</p>
                    <a href="/add-project" class="btn btn-primary">Add Project</a>
                </div>
                {% endif %}
            </div>
        </section>

        <section class="cta-section">
            <div class="container">
                <h2>Interested in Working Together?</h2>
                <p>I'm always excited to work on new projects and collaborate with like-minded individuals.</p>
                <a href="/contact" class="btn btn-primary">Get In Touch</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Aryan Tanwar. All rights reserved.</p>
            <div class="social-links">
                <a href="https://linkedin.com/in/aryantanwar" target="_blank" rel="noopener noreferrer">LinkedIn</a>
                <a href="https://github.com/aryantanwar" target="_blank" rel="noopener noreferrer">GitHub</a>
                <a href="mailto:atanwar@iu.edu">Email</a>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
